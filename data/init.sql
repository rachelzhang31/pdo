CREATE DATABASE IF NOT EXISTS heroku_6c89511a6790ebdv;

use heroku_6c89511a6790ebd;

CREATE TABLE IF NOT EXISTS SITE ( 
	SITEID		INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
	SITENAME		VARCHAR(50) NOT NULL, 
	SITESTREET	VARCHAR(20) NOT NULL, 
	SITECITY		VARCHAR(15) NOT NULL, 
	SITESTATE	VARCHAR(2) NOT NULL, 
	SITEZIP		VARCHAR(5) NOT NULL, 
	SITEPHONE	VARCHAR(15),
	date TIMESTAMP
); 

CREATE TABLE IF NOT EXISTS PROGRAM ( 
	PROGRAMID	INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
	PROGRAMNAME	VARCHAR(40) NOT NULL
); 

CREATE TABLE IF NOT EXISTS VOLUNTEER ( 
  	VOLUNTEERID	INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
	VOLUNTEERFNAME	VARCHAR(15) NOT NULL, 
	VOLUNTEERLNAME	VARCHAR(15) NOT NULL, 
	VOLUNTEERYEAR 	INT(1) NOT NULL,
	VOLUNTEERPHONE	VARCHAR(15), 
	VOLUNTEEREMAIL	VARCHAR(254) NOT NULL, 
  	PROGRAMID	INT(11) UNSIGNED, 
  	SITEID		INT(11) UNSIGNED,
	FOREIGN KEY (PROGRAMID) REFERENCES PROGRAM(PROGRAMID), 
	FOREIGN KEY (SITEID) REFERENCES SITE(SITEID) 
); 

CREATE TABLE IF NOT EXISTS ADMINISTRATOR ( 
  	ADMINISTRATORID		INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
	ADMINISTRATORNAME	VARCHAR(15) NOT NULL, 
	ADMINISTRATOREMAIL	VARCHAR(254) NOT NULL, 
	ADMINISTRATORPHONE	VARCHAR(15) 
);

CREATE TABLE IF NOT EXISTS DIRECTOR ( 
  	DIRECTORID	INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
	DIRECTORFNAME	VARCHAR(15) NOT NULL, 
	DIRECTORLNAME	VARCHAR(15) NOT NULL, 
	DIRECTORPHONE	VARCHAR(15), 
	DIRECTORYEAR	INT(1) NOT NULL, 
	DIRECTOREMAIL	VARCHAR(254) NOT NULL,
  	PROGRAMID	INT(11) UNSIGNED, 
	SITEID		INT(11) UNSIGNED, 
	ADMINISTRATORID	INT(11) UNSIGNED, 
	FOREIGN KEY (PROGRAMID) REFERENCES PROGRAM(PROGRAMID), 
	FOREIGN KEY (SITEID) REFERENCES SITE(SITEID), 
	FOREIGN KEY (ADMINISTRATORID) REFERENCES ADMINISTRATOR(ADMINISTRATORID) 
); 

CREATE TABLE IF NOT EXISTS INSTRUCTOR ( 
  	INSTRUCTORID		INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
	INSTRUCTORNAME		VARCHAR(50) NOT NULL, 
	INSTRUCTORPHONE		VARCHAR(15), 
	INSTRUCTOREMAIL		VARCHAR(254) NOT NULL, 
  	SITEID			INT(11) UNSIGNED,
	FOREIGN KEY (SITEID) REFERENCES SITE (SITEID) 
);  

CREATE TABLE IF NOT EXISTS MANAGER (
  	MANAGERID	INT(11) UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
	MANAGERFNAME	VARCHAR(15) NOT NULL, 
	MANAGERLNAME	VARCHAR(15) NOT NULL, 
	MANAGERPHONE	VARCHAR(15), 
	MANAGEREMAIL	VARCHAR(254) NOT NULL,
  	PROGRAMID	INT(11) UNSIGNED, 
	ADMINISTRATORID	INT(11) UNSIGNED,
	FOREIGN KEY (PROGRAMID) REFERENCES PROGRAM (PROGRAMID),
	FOREIGN KEY (ADMINISTRATORID) REFERENCES ADMINISTRATOR (ADMINISTRATORID) 
); 

CREATE TABLE IF NOT EXISTS MANAGEMENT ( 
	MANAGERID	INT(11) UNSIGNED, 
  	ADMINISTRATORID	INT(11) UNSIGNED, 
	PRIMARY KEY (MANAGERID, ADMINISTRATORID),  
  	FOREIGN KEY (MANAGERID) REFERENCES MANAGER (MANAGERID), 
  	FOREIGN KEY (ADMINISTRATORID) REFERENCES ADMINISTRATOR (ADMINISTRATORID)
); 

CREATE TABLE IF NOT EXISTS ADMINISTRATION ( 
	DIRECTORID		INT(11) UNSIGNED, 
  	ADMINISTRATORID		INT(11) UNSIGNED, 
	PRIMARY KEY (DIRECTORID, ADMINISTRATORID), 
  	FOREIGN KEY (DIRECTORID) REFERENCES DIRECTOR (DIRECTORID), 
  	FOREIGN KEY (ADMINISTRATORID) REFERENCES ADMINISTRATOR (ADMINISTRATORID)
); 

COMMIT; 
